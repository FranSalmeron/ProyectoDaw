FROM node:24-alpine

# Establecer el directorio de trabajo
WORKDIR /app

# Copiar los archivos de configuración de npm
COPY package*.json ./

# Instalar las dependencias de Node.js
RUN npm install

# Copiar el código fuente
COPY . .

# Copiar el entrypoint
COPY entrypoint.sh /entrypoint.sh

# Hacer que el script sea ejecutable
RUN chmod +x /entrypoint.sh

# Establecer el entrypoint
ENTRYPOINT ["/entrypoint.sh"]

# Exponer el puerto de React
EXPOSE 3000
